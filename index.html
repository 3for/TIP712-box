<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>TIP712 Message</title>

    <link href="src/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-sm-8 col-sm-push-2">
          <h1 class="text-center">TIP712 Message Test</h1>
          <hr/>
          <br/>
        </div>
      </div>

      <div class="row">
        <div>The TIP712 contract has been deployed at:</div>
        <div><b id="contractAddress"></b></div>
      </div>
      <p></p>
      <p></p>
      <div class="row" style="display:flex; flex-direction:column; gap:16px; max-width:500px;">
        <div style="display:flex; align-items:center; gap:12px;">
          <label style="min-width:140px;">signer(sender) address:</label>
          <input id="signer_address" value="" style="flex:1; padding:6px 10px;" />
        </div>

        <div style="display:flex; align-items:center; gap:12px;">
          <label style="min-width:140px;">TIP712 Domain (JSON format):</label>
          <input id="domain" value="" style="flex:1; padding:6px 10px;" />
        </div>

        <div style="display:flex; align-items:center; gap:12px;">
          <label style="min-width:140px;">TIP712 struct types (JSON format, without EIP712Domain):</label>
          <input id="types" value="" style="flex:1; padding:6px 10px;" />
        </div>

        <div style="display:flex; align-items:center; gap:12px;">
          <label style="min-width:140px;">TIP712 struct value (JSON format):</label>
          <input id="value" value="" style="flex:1; padding:6px 10px;" />
        </div>

        <div style="display:flex; align-items:center; gap:12px;">
          <label style="min-width:140px;">v of signature:</label>
          <input id="v" value="" style="flex:1; padding:6px 10px;" />
        </div>

        <div style="display:flex; align-items:center; gap:12px;">
          <label style="min-width:140px;">r of signature:</label>
          <input id="r" value="" style="flex:1; padding:6px 10px;" />
        </div>

        <div style="display:flex; align-items:center; gap:12px;">
          <label style="min-width:140px;">s of signature:</label>
          <input id="s" value="" style="flex:1; padding:6px 10px;" />
        </div>

        <div style="display:flex; align-items:center; gap:12px;">
          <label style="min-width:140px;">signature:</label>
          <input id="signature" value="" style="flex:1; padding:6px 10px;" />
        </div>

        <button id="get_tip712_hash" style="margin-top:8px; padding:10px 0;">
          Get TIP712 Hash
        </button>

        <button id="sign_with_tronweb" style="margin-top:8px; padding:10px 0;">
          Sign with tronWeb
        </button>

        <button id="sign_with_ledger" style="margin-top:8px; padding:10px 0;">
          Sign with ledger device
        </button>

        <button id="verify_sig" style="margin-top:8px; padding:10px 0;">
          Verify TIP712 signature
        </button>

        <p id="loading" style="display:none; padding-top:10px;">
          Waiting to complete the transaction
          <img src="img/spinner.svg" style="width:20px; vertical-align:middle;" />
        </p>

        <p id="TIP712message" style="display:none; padding-top:10px;">
          hash: <b id="TIP712messageHash"></b>
        </p>

        <p id="result" style="display:none; padding-top:10px;">
          result: <b id="resResult"></b>
        </p>

      </div>
    </div>

    <!-- 先引入 jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

    <!-- 再引入 Popper（Bootstrap 需要） -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

    <!-- 最后引入 Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"></script>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script type="module" src="/src/js/jquery-2.1.4.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script type="module" src="/src/js/bootstrap.min.js"></script>
    <!-- <script type="module" src="/src/js/tronweb.js"></script> -->
    <script type="module" src="/src/js/tip712-config.js"></script>
    <script type="module" src="/src/js/app.js"></script>
    <script type="module" src="/src/main.js"></script>
    
  </body>
</html>
